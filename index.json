[{"content":" æ‘˜è¦:30å¤šå²,æ­£æ˜¯å¹´å¯ŒåŠ›å¼ºçš„å¹´çºªï¼Œä¸°å¯Œçš„é˜…å†ï¼Œè¿‡ç¡¬çš„æŠ€æœ¯æ”¯æ’‘ï¼Œæˆ‘ä»¬çš„äººç”Ÿæ‰åˆšåˆšæ‰¬å¸†èµ·èˆªï¼Œè€Œèµ„æœ¬ä»¥åŠèŒåœºçš„å†…å·å´æ·±æ·±çš„æ†ç€æˆ‘ä»¬ï¼Œä¸è¿‡åˆ«æ‹…å¿ƒï¼Œæ€ä¸æ­»æˆ‘ä»¬çš„éƒ½ä¼šè®©æˆ‘ä»¬å˜å¾—æ›´å¼ºå¤§ï¼\nä¸çŸ¥é“æ˜¯å“ªä¸ªå¤œæ™šå¼€å§‹ï¼Œæˆ‘çªç„¶å¼€å§‹ç–¯ç‹‚çš„ç„¦è™‘ï¼Œå®³æ€•35å²çš„å¤±ä¸šã€‚è€Œç„¦è™‘ä¸€æ—¦å¼€å§‹å°±æ— æ³•åœä¸‹ï¼Œæ…¢æ…¢çš„æˆ‘å¼€å§‹è¶Šæ¥è¶Šé¢‘ç¹çš„å»æ‹›è˜è½¯ä»¶ä¸Šçœ‹ä¸€äº›ç¨³å®šçš„å…¬å¸çš„å²—ä½ï¼Œæœ€ç»ˆæˆ‘å¦‚æ„¿ä»¥å¿ï¼Œæ‹¿åˆ°ä¸€å®¶ä¼ ç»Ÿå…¬å¸offerã€‚\nä½†äº‹å®å¾€å¾€å°±æ˜¯ä¸å¦‚äººæ„ï¼Œåœ¨å½“å‰çš„å¤§ç¯å¢ƒä¸‹ï¼Œæˆ–è®¸æ ¹æœ¬æ²¡æœ‰ç¨³å®šçš„å…¬å¸ã€‚åˆšåˆ°æ–°å…¬å¸ï¼Œå°±å¬åˆ°è€å‘˜å·¥é™è–ªï¼Œäººå‘˜è¢«è£çš„æ¶ˆæ¯ï¼Œç›´åˆ°æˆ‘ä¸€ä¸ªåŒæœŸçœŸçš„è¢«è£ä¹‹åæˆ‘æ‰å‘ç°ï¼Œæ ¹æœ¬æ²¡æœ‰ç¨³å®šçš„å·¥ä½œã€‚\næ¯ä¸ªäººéƒ½è¦æœ‰PlanB # é¦–å…ˆæˆ‘ä»¬è¦çœ‹æ¸…ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼šæœ‰\u0026quot;å¤§é¾„å±æœº\u0026quot;,æˆ‘è®¤ä¸ºåŸå› å¦‚ä¸‹\næ—¶é—´ç´§é¡¹ç›®å¤šèƒ½åŠ ç­çš„äººå¤ªå¤š æ—¶é—´æ¾é¡¹ç›®å°‘å…¬å¸å¾ˆå¿«å°±è¦å€’ ç»å¤§å¤šæ•°ä¸šåŠ¡å…¶å®å¹¶ä¸éœ€è¦é«˜æ·±çš„æŠ€æœ¯åšæ”¯æ’‘ ä¸šåŠ¡çš„ä½æŠ€æœ¯é€ æˆäº†å¸‚åœºå¯¹äºæŠ€æœ¯å®åŠ›å¼ºçš„å²—ä½éœ€è¦å¹¶æ²¡æœ‰é‚£ä¹ˆå¤šï¼Œå¤§éƒ¨åˆ†é¡¹ç›®åªè¦æœ‰ä¸€ä¸ªæŠ€æœ¯å¼ºçš„ç‰µå¤´ï¼Œå‘†ç€Nä¸ªå°å¼Ÿå°±å¯ä»¥æ‹‰èµ·æ¥ã€‚\nä½†å°å¼Ÿç»ˆç©¶æ˜¯è¦æˆé•¿ï¼Œå½“å°å¼Ÿçš„æŠ€æœ¯ä¸æ–­å¢å¼ºï¼Œæ¯å¹´è´¹ç”¨é€æ­¥å¢åŠ ï¼Œæ€§ä»·æ¯”é€æ¸é™ä½ï¼Œæ€æ ·è®©ä¼ä¸šä¸æ¢æ‰è‡ªå·±å‘¢ï¼Ÿäºæ˜¯å†…å·å¼€å§‹äº†ã€‚\nè¿™å°±æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥æ–°çš„å˜åŒ–æ¥æ‰“ç ´å®ƒï¼Œå¯¹æ­¤æˆ‘çš„é€‰æ‹©å°±æ˜¯æˆä¸ºç‹¬ç«‹å¼€å‘è€…ã€‚\nä»€ä¹ˆæ˜¯ç‹¬ç«‹å¼€å‘è€… # ç‹¬ç«‹å¼€å‘è€…ä¸æ˜¯è¿œç¨‹å·¥ä½œï¼Œé‚£åªæ˜¯æ¢äº†å·¥ä½œæ–¹å¼ï¼Œæœ¬è´¨ä¸Šå¹¶æ²¡æœ‰è§£å†³æˆ‘çš„å†…è€—ã€‚\næˆ‘è®¤ä¸ºç‹¬ç«‹å¼€å‘è€…å°±æ˜¯è‡ªå·±å»åšä¸€ä¸ªäº§å“ï¼Œç„¶åç»™ä½ å¸¦æ¥è¢«åŠ¨æ”¶å…¥ï¼Œè€Œä¸”å°è¯•å»æˆä¸ºç‹¬ç«‹å¼€å‘è€…ä¸ä¸Šç­å¹¶ä¸å†²çªï¼Œç›¸åæˆ‘è®¤ä¸ºå®ƒå¿…é¡»å’Œä¸»çº¿å·¥ä½œåŒæ­¥è¿›è¡Œï¼Œæ‰èƒ½çœŸæ­£çš„è§£å†³æˆ‘ä»¬çš„ç²¾ç¥å†…è€—ã€‚\næ€æ ·æˆä¸ºç‹¬ç«‹å¼€å‘è€… # åœ¨å†³å®šå¼€å¯ç‹¬ç«‹å¼€å‘è€…è®¡åˆ’çš„ç¬¬ä¸€å¤©ï¼Œæˆ‘å°±åœ¨v2exä¸Šå»å¼€äº†ä¸€ç¯‡å¸–å­ï¼Œæƒ³è¯·æ•™ä¸‹å·²ç»åœ¨åšç‹¬ç«‹å¼€å‘è€…å·¥ä½œçš„å‰è¾ˆï¼Œæœ¬æ¥å·²ç»åšå¥½0å›å¤çš„å‡†å¤‡äº†ï¼Œæ²¡æƒ³åˆ°å‰è¾ˆä»¬å¾ˆç»™é¢å­ã€‚ æ±‚æ•™å„ä½ç‹¬ç«‹å¼€å‘è€…ä¸€äº›å…³äºå‘å±•é—®é¢˜\næˆ‘æœ¬èº«ä½œä¸ºçº¯åç«¯ï¼Œæƒ³é’ˆå¯¹è¿ç»´ï¼Œå‰ç«¯ç­‰æ–¹å‘åšæŠ€æœ¯ä¸Šçš„è¡¥å……ï¼Œæƒ³é—®é—®å‰è¾ˆæœ‰æ²¡æœ‰æ¨èçš„æŠ€æœ¯æ ˆï¼Œä¸€ç•ªäº¤æµä¸‹ï¼Œæˆ‘å‘ç°ç‹¬ç«‹å¼€å‘è€… äº§å“æ‰æ˜¯ç¬¬ä¸€è¦ä¹‰\nä¸€åˆ‡éƒ½è¦ä»¥äº§å“ä¸ºä¸­å¿ƒï¼Œè®¾è®¡å¥½äº§å“ï¼Œç„¶åè°ƒç ”äº§å“æ‰€éœ€çš„æŠ€æœ¯æ ˆï¼Œå†å»å­¦ä¹ ï¼Œè€Œä¸”è¦å¿«é€ŸéªŒè¯å¸‚åœºï¼Œæœ‰æ°”è‰²èµ·è‰²ä¹‹åå†åšæ‰©å……ã€‚\nç‹¬ç«‹å¼€å‘è€…æ‰€éœ€è¦å…·å¤‡çš„èƒ½åŠ›ä¹Ÿå¯ä»¥è¯´æ˜¯å…¨æ–¹é¢çš„ï¼Œå›Šæ‹¬äº† è°ƒç ”ã€äº§å“è®¾è®¡ã€å¿«é€Ÿå¼€å‘ã€å¸‚åœºéªŒè¯ã€å¼€å‘ã€æµ‹è¯•ã€è¿ç»´ã€è¿è¥ã€seoã€æ¨å¹¿ç­‰å…¨æ–¹é¢èƒ½åŠ›ï¼Œå¯ä»¥è¯´æˆ‘ç°åœ¨æ‰€åšçš„å·¥ä½œåªæ˜¯è¿™æ•´å¥—ä¸­çš„ä¸€ç¯ï¼Œå·®çš„å¤ªè¿œã€‚\nå› æ­¤æˆ‘é”šå®šäº†ä¸€ä¸ªåŸºäºgitPageçš„ä¸ªäººåšå®¢ç‹¬ç«‹ç«™ä½œä¸ºæˆ‘çš„ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼Œé€‰è¿™ä¸ªé¡¹ç›®å¼€å§‹è¿˜æ˜¯æœ‰å¾ˆå¤šè€ƒè™‘çš„ï¼š\nå¼€é”€è¿ç»´æˆæœ¬ä½ï¼ŒgitPageså’ŒgitActionå°±èƒ½è§£å†³ã€‚ å¯ä»¥è®°å½•ä¸‹æˆä¸ºç‹¬ç«‹å¼€å‘è€…çš„æ¯å—èƒ½åŠ›çš„å­¦ä¹ è®°å½•ï¼Œä¹Ÿå¯ä»¥ç»™å…¶ä»–äººæä¾›å‚è€ƒ å°†å¼€å‘å’Œè¿ç»´å¿«é€Ÿç•¥è¿‡ï¼Œå­¦ä¹ é‡å¿ƒé›†ä¸­åœ¨å…¶ä»–æ ¹æœ¬æ²¡æœ‰æ¥è§¦è¿‡çš„æŠ€èƒ½ç‚¹ä¸Š åé¢çš„å…¶ä»–é¡¹ç›®éƒ½å°†åŸºäºè¯¥é¡¹ç›®åšåšä¸€ä¸ªé¡¹ç›®æ–¹æ¡ˆè®°å½•ä»¥åŠé¡¹ç›®ç»“æœåé¦ˆ å¦‚æœå¤§å®¶æ„Ÿå…´è¶£æˆ–è€…æœ‰å‰è¾ˆå¯ä»¥ç»™ä¸€äº›æŒ‡ç‚¹æ¬¢è¿åˆ°æˆ‘çš„ç‹¬ç«‹ç«™å»è§‚çœ‹ä¸‹ï¼Œç‹¬ç«‹ç«™ç›®å‰åˆšèµ·æ­¥ç¼ºçš„ä¸œè¥¿è¿˜èƒ½å¤šæ¬¢è¿æŒ‡æ­£ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªé¡¹ç›®,åšå®¢çš„æ­å»ºè¿‡ç¨‹åç»­æˆ‘ä¹Ÿå°†ä¼˜å…ˆç»´æŠ¤åˆ°ç«™å†…ã€‚ ps: å¯èƒ½éœ€è¦æŒ‚ä»£ç†ï¼Œå› ä¸ºåŸºäºgithubçš„ é²¸äº‘ğŸ³\næŒ£é’±æ‰æ˜¯ç‹é“? # å…¶å®å°è¯•æˆä¸ºç‹¬ç«‹å¼€å‘è€…æˆ‘è§‰å¾—æœ€ç»ˆå°±ç®—ä¸æˆåŠŸï¼Œå®ƒæ‰€å¸¦æ¥çš„è¿™ä¸€å¥—å¸‚åœºéªŒè¯çš„æ–¹æ³•è®ºå’Œå®æ“ï¼Œåªè¦ä½ è°‹æ±‚å˜åŒ–ï¼Œæ— è®ºåšä¸åšç‹¬ç«‹å¼€å‘è€…ï¼Œæˆ‘ç›¸ä¿¡æœ€ç»ˆéƒ½æ˜¯ä¸‡å˜ä¸ç¦»å…¶å®—\næ¨èä¸€äº›ä¼˜ç§€çš„ç‹¬ç«‹å¼€å‘è€… # é²¸äº‘ğŸ³\nscottdelong\nsimpleprogrammer\nmtlynch\n","date":"15 September 2024","externalUrl":null,"permalink":"/developer/35%E5%B2%81+%E7%9A%84%E5%A4%A7%E9%BE%84%E7%A8%8B%E5%BA%8F%E5%91%98%E8%BF%99%E5%9C%BA%E4%BA%BA%E7%94%9F%E7%9A%84%E6%8E%92%E4%BD%8D%E8%B5%9B%E6%89%8D%E5%88%9A%E5%88%9A%E5%BC%80%E5%A7%8B/","section":"Developers","summary":"","title":"35å²+çš„å¤§é¾„ç¨‹åºå‘˜:è¿™åœºäººç”Ÿçš„æ’ä½èµ›æ‰åˆšåˆšå¼€å§‹","type":"developer"},{"content":"","date":"15 September 2024","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","date":"15 September 2024","externalUrl":null,"permalink":"/developer/","section":"Developers","summary":"","title":"Developers","type":"developer"},{"content":"","date":"15 September 2024","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":"","date":"15 September 2024","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"},{"content":"","date":"15 September 2024","externalUrl":null,"permalink":"/series/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E8%80%85%E7%94%9F%E6%B6%AF/","section":"Series","summary":"","title":"ä»0å¼€å§‹ç‹¬ç«‹å¼€å‘è€…ç”Ÿæ¶¯","type":"series"},{"content":"","date":"15 September 2024","externalUrl":null,"permalink":"/tags/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E8%80%85%E7%94%9F%E6%B6%AF/","section":"Tags","summary":"","title":"ä»0å¼€å§‹ç‹¬ç«‹å¼€å‘è€…ç”Ÿæ¶¯","type":"tags"},{"content":"","date":"15 September 2024","externalUrl":null,"permalink":"/categories/%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E8%80%85/","section":"Categories","summary":"","title":"ç‹¬ç«‹å¼€å‘è€…","type":"categories"},{"content":"","date":"15 September 2024","externalUrl":null,"permalink":"/","section":"é²¸äº‘ğŸ³","summary":"","title":"é²¸äº‘ğŸ³","type":"page"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/network/","section":"Networks","summary":"","title":"Networks","type":"network"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/categories/%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91/","section":"Categories","summary":"","title":"ç¼–ç¨‹å¼€å‘","type":"categories"},{"content":" MQTTåè®®å…¥é—¨ # å‚è€ƒæ–‡æ¡£ç»´åŸºç™¾ç§‘ã€é˜¿é‡Œäº‘æ¶ˆæ¯é˜Ÿåˆ—MQTTç‰ˆæœ¬ã€MQTT3.1.1åè®®\nåè®®æ¥æº # mqttåè®®æœ€æ—©åœ¨1999å¹´è¢«æ’°å†™ã€‚æœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†ç›‘æ§çŸ³æ²¹ç®¡é“çŸ³æ²¹è¿è¾“,æ‰€ä»¥éœ€è¦ä¸€ä¸ªè½»é‡é«˜æ•ˆï¼Œå ç”¨å¸¦å®½å’Œç”µé‡å°‘çš„åè®®ã€‚ å› ä¸ºé‚£ä¸ªæ—¶å€™ç±»ä¼¼äºè¿™ç§è®¾å¤‡åªèƒ½é€šè¿‡å«æ˜Ÿå»è¿›è¡Œæ•°æ®é€šè®¯ï¼Œå¼€é”€å¾ˆå¤§ã€‚\nåè®®ç»„æˆ # mqttåè®®å®šä¹‰äº†ä¸¤ç§ç½‘ç»œå®ä½“,brokerå’Œclientsï¼ˆä¸€ä¸ªæ¶ˆæ¯brokerå’Œå¤šä¸ªclientsï¼‰ã€‚\nbrokerçš„ä¸»è¦ä½œç”¨æ˜¯æ¥æ”¶clientå‘é€æ¥çš„æ¶ˆæ¯ï¼Œå¹¶é€šè¿‡è·¯ç”±è½¬å‘ç»™ç›®æ ‡clientï¼Œæ¶ˆæ¯çš„å‘é€æ–¹å’Œæ¥æ”¶æ–¹éƒ½å®Œå…¨ä¸éœ€è¦æ„ŸçŸ¥åˆ°ç›®æ ‡clientçš„åœ°å€ æˆ–è€…å­˜å‚¨ä»»ä½•è·¯ç”±è¡¨ã€‚\nclientæ˜¯ç”¨æ¥æ”¶å‘æ¶ˆæ¯çš„å®¢æˆ·ç«¯ï¼Œå®ƒå¯ä»¥æ˜¯ä»»ä½•è®¾å¤‡ï¼Œåªè¦è£…è½½äº†mqttåº“å¹¶ä¸”è¿æ¥åˆ°äº†brokeré‚£ä¹ˆä»–å°±å¯ä»¥ä½œä¸ºclientæ¥è¿›è¡Œæ”¶å‘æ¶ˆæ¯\næ¶ˆæ¯æµè½¬ # clientä¼šå‘é€ æ§åˆ¶æ¶ˆæ¯(control message) ç”±message + topicç»„æˆ åˆ° brokerï¼Œæ§åˆ¶æ¶ˆæ¯æœ€å°2å­—èŠ‚ï¼Œæœ€å¤§å¯ä»¥256mb brokerä¼šæ ¹æ®è®¢é˜…ä¿¡æ¯ï¼Œå‘æ‰€æœ‰è®¢é˜…äº†topicçš„clientè½¬å‘æ¶ˆæ¯ å¦‚æœæ²¡æœ‰clientè®¢é˜…è¯¥æ¶ˆæ¯ï¼Œé‚£ä¹ˆè¯¥æ¶ˆæ¯ä¼šè¢«ä¸¢å¼ƒæ‰ï¼Œé™¤éè®¾ç½®äº†ä¿ç•™æ¶ˆæ¯ brokerä¼šä¿ç•™æœ€è¿‘çš„ä¸€æ¡ä¿ç•™æ•°æ®ï¼Œå½“ç”¨clientè®¢é˜…topicçš„æ—¶å€™ä¼šç«‹å³æ¨é€ broker # brokerå¯ä»¥éƒ¨ç½²åœ¨æœ¬åœ°æˆ–è€…äº‘ä¸Š,å®ƒä¼šç»´æŠ¤ä¸€ä¸ªç”±å±‚çº§ç»“æ„çš„topicï¼Œå½“clientå‘é€æ¶ˆæ¯åˆ°æŸä¸ªtopicåï¼Œ æ‰€æœ‰è®¢é˜…äº†è¯¥topicçš„clientéƒ½ä¼šæ”¶åˆ°ä¸€ä¸ªè¯¥æ¶ˆæ¯å‰¯æœ¬ã€‚\nä¹‹æ‰€ä»¥è¯´æ˜¯å±‚çº§ç»“æ„çš„æ˜¯å› ä¸ºtopicå¯ä»¥ç”¨â€˜/â€™æ¥åŒºåˆ†å±‚çº§ï¼Œä½¿ç”¨â€˜+â€™å¯ä»¥åŒ¹é…å•ä¸ªå±‚çº§ï¼Œä½¿ç”¨â€˜#â€™å¯ä»¥åŒ¹é…å¤šä¸ªå±‚çº§\nhome/#å¯ä»¥åŒ¹é… home/living_room/temperatureã€home/bedroom/temperature\nhome/+/temperature å¯ä»¥åŒ¹é… home/living_room/temperature å’Œ home/bedroom/temperatureã€‚\næ¶ˆæ¯ç±»å‹ # connect # è¡¨ç¤ºç­‰å¾…ä¸æœåŠ¡å»ºç«‹ä¸€ä¸ªæ˜ç¡®çš„è¿æ¥,å¸Œæœ›å’ŒæœåŠ¡å»ºç«‹ä¸€ä¸ªè¿æ¥\ndisconnect # ç­‰å¾… MQTT å®¢æˆ·ç«¯å®Œæˆå…¶å¿…é¡»æ‰§è¡Œçš„æ‰€æœ‰å·¥ä½œï¼Œå¹¶ç­‰å¾… TCP/IP ä¼šè¯æ–­å¼€è¿æ¥\npublish # å°†è¯·æ±‚ä¼ é€’ç»™ MQTT å®¢æˆ·ç«¯åç«‹å³è¿”å›åˆ°åº”ç”¨ç¨‹åºçº¿ç¨‹ã€‚\nQuality of service(QOS) # QoS 0 æœ€å¤šä¸€æ¬¡ â€“ æ¶ˆæ¯ä»…å‘é€ä¸€æ¬¡ï¼Œå®¢æˆ·ç«¯å’Œä»£ç†æ— éœ€é‡‡å–ä»»ä½•é¢å¤–æ­¥éª¤æ¥ç¡®è®¤å‘é€ï¼ˆå³å‘å³å¿˜ï¼‰ã€‚ QoS 1 è‡³å°‘ä¸€æ¬¡ â€“ å‘é€è€…å¤šæ¬¡é‡è¯•æ¶ˆæ¯ï¼Œç›´åˆ°æ”¶åˆ°ç¡®è®¤ï¼ˆç¡®è®¤å‘é€ï¼‰ã€‚ Qos 2 æ°å¥½ä¸€æ¬¡â€”â€”å‘é€è€…å’Œæ¥æ”¶è€…è¿›è¡Œä¸¤çº§æ¡æ‰‹ï¼Œä»¥ç¡®ä¿åªæ¥æ”¶åˆ°æ¶ˆæ¯çš„ä¸€ä»½å‰¯æœ¬ï¼ˆä¿è¯ä¼ é€’ï¼‰ã€‚ é˜¿é‡Œäº‘äº‘æ¶ˆæ¯é˜Ÿåˆ—MQTT # ","date":"14 September 2024","externalUrl":null,"permalink":"/network/%E5%A4%A7%E7%99%BD%E8%AF%9D%E8%A7%A3%E6%9E%90mqtt%E5%8D%8F%E8%AE%AE/","section":"Networks","summary":"","title":"å¤§ç™½è¯è§£æMQTTåè®®","type":"network"},{"content":" TCP_IPåè®®æ— # æ–‡ç« æ€»ç»“è‡ª TCPã€UDPã€HTTPã€SOCKETã€WebSocketä¹‹é—´çš„åŒºåˆ« TCP/IP å››å±‚æ¨¡å‹æ¦‚è¿°\nåè®®æ¨¡å‹ # OSIä¸ƒå±‚æ¨¡å‹ # å„å±‚ä½œç”¨ # åº”ç”¨å±‚ï¼šè´Ÿè´£æä¾›å„ç§è½¯ä»¶çš„è¿è¡Œç¯å¢ƒï¼Œè¿è¡Œåœ¨æ“ä½œç³»ç»Ÿç”¨æˆ·æ€\nè¡¨ç¤ºå±‚ï¼šè´Ÿè´£å°†ä¸åŒè®¾å¤‡é—´ä¼ è¾“çš„æ•°æ®è½¬æ¢ä¸ºå½¼æ­¤å¯ä»¥ç†è§£çš„æ ¼å¼\nä¼šè¯å±‚ï¼šè´Ÿè´£è¡¨ç¤ºå±‚å®ä½“ä¹‹é—´ä¼šè¯çš„å»ºç«‹ï¼Œç®¡ç†å’Œç»ˆæ­¢\nä¼ è¾“å±‚ï¼šè´Ÿè´£å»ºç«‹ä¸åŒè®¾å¤‡ä¹‹é—´ç«¯åˆ°ç«¯çš„è¿æ¥\nç½‘ç»œå±‚ï¼šè´Ÿè´£æ ¹æ®ç›®çš„ IP åœ°å€å®ç°å¯»å€åŠè·¯ç”±é€‰æ‹©\næ•°æ®é“¾è·¯å±‚ï¼šè´Ÿè´£æ•°æ®åŒ…å°å¸§åŠ MAC å¯»å€\nç‰©ç†å±‚ï¼šè´Ÿè´£æ•°æ®å¸§åœ¨ç‰©ç†ç½‘ç»œä¸­çš„å®é™…ä¼ è¾“\nTCP/IPå››å±‚æ¨¡å‹ # å››å±‚æ¨¡å‹ # å„å±‚åè®® # è¿™é‡Œæ‹¿å‘ä¸€æ¬¡å¿«é€’ä½œä¸ºä¸¾ä¾‹\nPDU åè®®æ•°æ®å•å…ƒ\nåº”ç”¨å±‚PDU æ•°æ® ä¼ è¾“å±‚PDU æ•°æ®æ®µ ç½‘ç»œå±‚PDU æ•°æ®åŒ… ç‰©ç†å±‚PDU æ¯”ç‰¹(ä½)\nåº”ç”¨å±‚ # åº”ç”¨å±‚å¯ä»¥ç±»æ¯”äºæˆ‘ä»¬å¯„å¿«é€’æ—¶å€™çš„è´§ç‰©,è´§ç‰©éœ€è¦è¿›è¡Œæ‰“åŒ…ï¼Œå¹¶ä¸”è´´ä¸Šæ”¶ä»¶äººï¼Œæ”¶ä»¶åœ°å€ç­‰ï¼Œè¿™æ‰æˆä¸ºä¸€ä¸ªå¯ä»¥è¿è¾“çš„å¿«é€’\nåº”ç”¨å±‚åè®®ä¸»è¦ä½œç”¨æ—¶å°†æˆ‘ä»¬æ‰€éœ€è¦ä¼ è¾“çš„æ•°æ®æŒ‰ç…§ä¸€å®šçš„æ•°æ®å½¢å¼å’Œä¼ è¾“è§„åˆ™ï¼Œå°†æ•°æ®å°è£…ã€‚\nè¿ä½œåœ¨åº”ç”¨å±‚ä¸Šçš„åè®®æœ‰HTTPS/HTTPã€FTPã€DNSã€DHCPã€SMTPç­‰\nä¼ è¾“å±‚ # åº”ç”¨å±‚å¯ä»¥ç±»æ¯”äºæˆ‘ä»¬å¯„å¿«é€’æ—¶å€™çš„å¿«é€’ç«™,å¿«é€’ç«™ä¸è´Ÿè´£å®é™…çš„è¿è¾“,ä»–åªä¼šå°†å¿«é€’åˆ†ç€å¿«é€’å…¬å¸åˆ†å¼€ç„¶åå‘åˆ°ä¸åŒçš„å¿«é€’ä¸­è½¬ç«™ï¼Œ\nä¼ è¾“å±‚åŒæ ·ä¹Ÿå¹¶ä¸æ¶‰åŠå®é™…ä¼ è¾“ï¼Œä¸»è¦ä½œç”¨æ˜¯ç«¯å£å¯¹ç«¯å£çš„é€šä¿¡ï¼Œè¿ä½œåœ¨å…¶ä¸Šçš„åè®®ä¸»è¦æ˜¯TCP/UPDã€‚\ntcpåè®® TCPåè®®é€šè¿‡äº†ä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹ï¼Œæ…¢å¯åŠ¨ï¼Œæ‹¥å¡é¿å…ï¼Œè¶…æ—¶é‡è¯•ç­‰æœºåˆ¶ä¿éšœäº†æ•°æ®çš„å¯é ä¼ è¾“ï¼Œä½†æ˜¯æ•ˆç‡ä½ã€‚ TCPåè®®è§„å®šå½“æŠ¥æ–‡é•¿åº¦è¶…è¿‡MSSï¼ˆMax Segement Sizeï¼šæœ€å¤§æŠ¥æ–‡é•¿åº¦ï¼‰åï¼Œéœ€è¦å¯¹æ•°æ®æŠ¥æ–‡è¿›è¡Œåˆ†æ®µï¼Œ ç„¶åç»„æˆTCPæŠ¥æ–‡æ®µäº¤ç»™ç½‘ç»œå±‚è¿›è¡Œä¼ è¾“. ä¹‹æ‰€ä»¥åœ¨ä¼ è¾“å±‚å°†æ¶ˆæ¯åˆ‡ç‰‡æ˜¯ä¸ºäº†æ›´é«˜æ•ˆçš„è§£å†³ç½‘ç»œå±‚ä¸¢åŒ…çš„é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬ä¸åˆ‡ï¼Œé‚£ä¹ˆä¼šåœ¨åº”ç”¨å±‚æŒ‰ç…§MTUï¼ˆMax Transport Unitï¼šæœ€å¤§ä¼ è¾“å•å…ƒ)æ¥è¿›è¡Œåˆ‡ç‰‡ï¼Œè¿™æ · çš„è¯ä¸€æ—¦ä¸¢åŒ…éœ€è¦å°†æ•´ä¸ªæ•°æ®æ¥è¿›è¡Œé‡å‘æ•ˆç‡ä½ä¸‹ï¼Œæ‰€ä»¥åœ¨ä¼ è¾“å±‚å°±å°†æ•°æ®åˆ‡ç‰‡ï¼Œå“ªä¸ªåŒ…ä¸¢äº†é‡å‘å°±å¥½ã€‚ tcpåè®®å­˜åœ¨ç²˜åŒ…é—®é¢˜ï¼Œç²˜åŒ…çš„é—®é¢˜å¯ä»¥ç»†åˆ†ä¸º å‘é€ç«¯ç²˜åŒ… å’Œ æ¥æ”¶ç«¯ç²˜åŒ… å‘é€ç«¯ç²˜åŒ…ï¼š 1.tcpå†…éƒ¨é»˜è®¤å¼€å¯nagleç®—æ³•ï¼Œè¯¥ç®—æ³•ä¼šå°†è¾ƒå°çš„æŠ¥æ–‡è¿›è¡Œåˆå¹¶å‘é€ï¼Œè¿™æ˜¯å¯¼è‡´ç²˜åŒ…çš„åŸå› ï¼Œå¯ä»¥é€šè¿‡å…³é—­nagleç®—æ³•è§£å†³ 2.TCPè¿æ¥çš„å‘é€æ–¹ä¼šå°†æŠ¥æ–‡æ®µæ”¾åœ¨ç¼“å†²åŒºï¼Œç­‰ç¼“å†²åŒºè£…æ»¡ä¹‹åå†å‘é€ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´ç²˜åŒ… æ¥æ”¶æ–¹ç²˜åŒ… 1.TCPè¿æ¥çš„æ¥æ”¶æ–¹æœªå³ä½¿å–èµ°åˆ°è¾¾ç¼“å†²åŒºçš„æŠ¥æ–‡æ®µ é’ˆå¯¹äºå‘é€ç«¯å’Œæ¥æ”¶ç«¯ç¼“å†²åŒºæœªå³ä½¿å¤„ç†ç²˜åŒ…å¯ä»¥é‡‡ç”¨å¦‚ä¸‹ç­–ç•¥: 1.åº”ç”¨å±‚å®šä¹‰æ¶ˆæ¯å¤´éƒ¨,httpåè®®å°±æ˜¯å°†æ¶ˆæ¯åˆ’åˆ†ä¸ºå¤´éƒ¨å’Œæ•°æ®éƒ¨åˆ† 2.å›ºå®šæ¶ˆæ¯é•¿åº¦ï¼Œæ‰€æœ‰æ¶ˆæ¯å›ºå®šé•¿åº¦ï¼Œæ¥æ”¶æ–¹ç›´æ¥æŒ‰ç…§æŒ‡å®šé•¿åº¦åˆ‡å‰²ï¼Œæ— éœ€è€ƒè™‘ç²˜åŒ… udpåè®® UDPåè®®é¢å‘æ— è¿æ¥ï¼Œåªç®¡å‘é€ï¼Œè‡³äºæ˜¯å¦äº¤ä»˜åˆ°æ¥æ”¶æ–¹ä¸ä½œä¿è¯ï¼Œæ‰€ä»¥æ•ˆç‡é«˜ï¼Œå¯é æ€§ä½ã€‚ ç½‘ç»œå±‚ # ç½‘ç»œå±‚ç±»æ¯”äºå¿«é€’ä¸­è½¬ç«™ï¼Œä»–ä»¬è´Ÿè´£å°†å…¨å¸‚çš„ç«™ç‚¹é€æ¥çš„åŒ…è£¹è¿›è¡Œæ”¶é›†ï¼ŒæŒ‰ç…§åœ°å€è¿›è¡Œåˆ†æ‹£ï¼Œå¹¶è£…è½¦ã€‚\nç½‘ç»œå±‚æ”¶åˆ°æ•°æ®ä¼ è¾“å±‚çš„æ•°æ®ä¹‹åï¼Œä¼šæŒ‰ç…§MTUæ¥è¿›è¡Œæ•°æ®åˆ‡ç‰‡ï¼Œç„¶åå†å¤´éƒ¨æ·»åŠ IPåŒ…å¤´ï¼Œç»„æˆæ•°æ®åŒ…ã€‚ç„¶åå†é€šè¿‡IPåè®®å¯»å€\nå¯»å€è¿‡ç¨‹ Ipç”±ç½‘ç»œå· + ä¸»æœºå·ç»„æˆ,å¯»å€æ—¶ä¼šå…ˆç”¨ ip å’Œå­ç½‘æ©ç è¿›è¡Œ ä¸è¿ç®— ç„¶åå†è‡ªèº«çš„è·¯ç”±è¡¨ä¸­å¯»æ‰¾ç»“æœä¸è¯¥ç»“æœç›¸åŒçš„è·¯ç”±å™¨è¡¨é¡¹ï¼ˆè¯´æ˜ç½‘ç»œå·ç›¸åŒ,åŒå±äºä¸€ä¸ªå­ç½‘ï¼‰ï¼Œå‘é€ç»™è·¯ç”±å™¨ã€‚ å¦‚æœæ²¡æ‰¾åˆ°å°±å›å§æŠ¥æ–‡å‘é€ç»™é»˜è®¤ç½‘å…³ï¼Œç½‘å…³ä¼šé‡å¤ä¹‹å‰çš„æ“ä½œï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡ä½è‡³æ‰€åœ¨å­ç½‘ï¼Œæœ€åå¹¿æ’­ç›®æ ‡IPåœ°å€ã€‚ å¦‚æœæŸä¸ªé˜¶æ®µæ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„è·¯ç”±ï¼Œåˆ™ä¼šäº§ç”Ÿ ICMP æŠ¥é”™æ•°æ®åŒ… å¦‚æœæ˜¯ç›´è¿è·¯ç”±ï¼ˆå³åŒä¸€ä¸ªå­ç½‘å†…ï¼‰åˆ™æŒ‰ç…§ç¬¬äºŒå±‚ MAC åœ°å€ç›´æ¥å‘é€æ•°æ®\nç½‘ç»œæ¥å£å±‚ # ç½‘ç»œæ¥å£å±‚ç±»æ¯”äºå¿«é€’è½¦è¿è¾“ï¼Œè´Ÿè´£å®é™…çš„è¿è¾“ã€‚\né€šè¿‡ipå¯»å€å’Œè·¯ç”±å™¨é€‰æ‹©æˆ‘ä»¬çŸ¥é“äº†è¦å‘é€æ•°æ®å»å“ªï¼Œä½†æ˜¯ipä»…ä»…å¯ä»¥ç¡®å®šæˆ‘ä»¬è¦å‘åˆ°é‚£ä¸ªå­ç½‘ï¼Œå­ç½‘å†…éƒ¨çš„è®¾å¤‡ä¹‹é—´çš„æ•°æ®ä¼ è¾“å°±éœ€è¦ä¾é macåœ°å€æ¥è§£å†³äº†ã€‚\nmacå¯»å€è¿‡ç¨‹ æ¯ä¸ªå…¥ç½‘çš„ç½‘å¡æœ¬èº«ä¼šå†™åœ¨ä¸€ä¸ª48ä½çš„macåœ°å€ï¼Œæ˜¯ç”Ÿäº§æ—¶å€™å°±è¢«å†™å…¥åˆ°romä¸­çš„ï¼Œè‡ªèº«çš„macåœ°å€éƒ½å¯ä»¥é€šè¿‡romè·å– ä¸‹ä¸ªèŠ‚ç‚¹çš„macåœ°å€å¯ä»¥é€šè¿‡åœ°å€è½¬æ¢åè®®ARPè·å– æºä¸»æœºä¼šå¹¿æ’­ FF:FF:FF:FF:FF:FF + ç›®çš„ä¸»æœº IP åœ°å€ ç»™å­ç½‘å†…æ‰€æœ‰çš„ä¸»æœº ç›®æ ‡æœºå™¨æ”¶åˆ°æŒ‡ä»¤åå‘ç°ipä¸è‡ªèº«ipç›¸åŒï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›ç»™è¯·æ±‚æ–¹ï¼Œè¯·æ±‚æ–¹è·å–ä¸‹ä¸ªmacåœ°å€åï¼Œä¼šå°†è¿™å¯¹åœ°å€ç¼“å­˜åˆ°ARPç¼“å­˜ç©ºé—´ä¸­ï¼Œä¸‹æ¬¡æŸ¥è¯¢å°±æœ‰å¯èƒ½å‘½ä¸­ï¼Œä¸€èˆ¬åªå­˜å‡ åˆ†é’Ÿ ","date":"14 September 2024","externalUrl":null,"permalink":"/network/%E5%A4%A7%E7%99%BD%E8%AF%9D%E8%A7%A3%E6%9E%90tcp_ip%E6%A8%A1%E5%9E%8B/","section":"Networks","summary":"","title":"å¤§ç™½è¯è§£æTCP_IPæ¨¡å‹.","type":"network"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/series/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/","section":"Series","summary":"","title":"è®¡ç®—æœºç½‘ç»œ","type":"series"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/","section":"Tags","summary":"","title":"è®¡ç®—æœºç½‘ç»œ","type":"tags"},{"content":" å®šä¹‰ # lambdaè¡¨è¾¾å¼å…è®¸æˆ‘ä»¬æŠŠå‡½æ•°å½“ä½œä¸€ä¸ªæ–¹æ³•çš„å…¥å‚ä¼ å…¥\næ˜¯javaä¸­çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ã€‚\nç»“æ„ # ï¼ˆparametersï¼‰-\u0026gt; expression;\nï¼ˆparametersï¼‰-\u0026gt; {statements};\nå‡½æ•°å¼æ¥å£ # åªå£°æ˜äº†ä¸€ä¸ªæŠ½è±¡å‡½æ•°çš„æ¥å£å°±æ˜¯å‡½æ•°å¼æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨@FunctionInterfaceæ¥ä¿è¯è¯¥æ¥å£æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ã€‚\næˆ‘ä»¬ä½¿ç”¨lambdaè¡¨è¾¾å¼å®é™…ä¸Šå°±æ˜¯ç”Ÿæˆä¸€ä¸ªå‡½æ•°å¼æ¥å£çš„å¯¹è±¡ã€‚\njavaå†…ç½®çš„å‡½æ•°å¼æ¥å£ # æ–¹æ³•å¼•ç”¨ # æ–¹æ³•å¼•ç”¨å¯ä»¥ç†è§£ä¸ºlambdaè¡¨è¾¾å¼çš„å¦ä¸€ç§è¡¨ç°å½¢å¼ã€‚å½“å‡½æ•°å¼æ¥å£æ‰€éœ€è¦ç”¨çš„å¯¹åº”çš„æ–¹æ³•å·²ç»æœ‰äº†å®ç°æ—¶å¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨ã€‚\nFunction\u0026lt;Integer, Integer\u0026gt; square = Math::square; int result = square.apply(4); // ç»“æœä¸º 16 Function\u0026lt;String, Integer\u0026gt; strLength = String::length; int result = strLength.apply(\u0026#34;Hello\u0026#34;); // ç»“æœä¸º 5 Function\u0026lt;String, Person\u0026gt; createPerson = Person::new; Person person = createPerson.apply(\u0026#34;Alice\u0026#34;); ","date":"14 September 2024","externalUrl":null,"permalink":"/language/java/5%E5%88%86%E9%92%9F%E6%8E%8C%E6%8F%A1lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8E%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/","section":"Languages","summary":"","title":"5åˆ†é’ŸæŒæ¡lambdaè¡¨è¾¾å¼ä¸å‡½æ•°å¼ç¼–ç¨‹","type":"language"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/series/java/","section":"Series","summary":"","title":"Java","type":"series"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/tags/java/","section":"Tags","summary":"","title":"Java","type":"tags"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/tags/lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/","section":"Tags","summary":"","title":"Lambdaè¡¨è¾¾å¼","type":"tags"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/language/","section":"Languages","summary":"","title":"Languages","type":"language"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/","section":"Tags","summary":"","title":"å‡½æ•°å¼ç¼–ç¨‹","type":"tags"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/tags/canal/","section":"Tags","summary":"","title":"Canal","type":"tags"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/series/canal%E8%B0%83%E7%A0%94%E5%BA%94%E7%94%A8/","section":"Series","summary":"","title":"Canalè°ƒç ”åº”ç”¨","type":"series"},{"content":" æµ‹è¯•èƒŒæ™¯ # æœ¬æ¬¡æµ‹è¯•åœ¨æœ¬åœ°,ç”¨3ä¸ªåº“åšåŒæ­¥æµ‹è¯•,ç”±canal_master_1å’Œcanal_master_2å¾€canal_syncåŒæ­¥æ•°æ® æ–‡ä»¶é…ç½® # canalçš„é…ç½®ä¼šæ¶‰åŠåˆ°æ–‡ä»¶å¤¹ã€é…ç½®æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ä¹‹é—´çš„å…³è”,æ€»çš„é€»è¾‘å…³ç³»å¦‚ä¸‹ deployeré…ç½® # deployerçš„ä¸»è¦ä½œç”¨æ˜¯å¯¹æ•°æ®åº“è¿›è¡Œç›‘å¬,ä¼ªè£…destinationçš„ä»åº“ï¼Œè§£æå…¶binlog\ncanal/conf/canal.properties æ˜¯deployerä¸»é…ç½®æˆ‘ä»¬ä¸»è¦å…³æ³¨destinationsä¸‹çš„é…ç½®\n################################################# ######### destinations\t############# ################################################# # master1å’Œmaster2å¯¹åº”ç€confä¸‹çš„ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­å­˜æ”¾ç€å…·ä½“çš„ç›‘å¬åº“ä¿¡æ¯ã€åº“è¡¨è¿‡æ»¤è§„åˆ™ç­‰ canal.destinations = master1,master2 ps:å¤šä½™é…ç½®å·²ç»è£å‰ª,åªå…³æ³¨ä¸»è¦ä¿®æ”¹é…ç½®\nmaster1(2)æ–‡ä»¶å¤¹é…ç½® # master1(2)æ–‡ä»¶å¤¹å°±å¯¹åº”ç€destinationsä¸­çš„é…ç½®é¡¹ï¼Œå…¶å«ä¹‰æ˜¯è¢«ç›‘å¬çš„æ•°æ®æºï¼Œè¯¥æ–‡ä»¶å¤¹ä¸‹å­˜æ”¾å…¶ç›¸å…³é…ç½®åœ¨instance.properties\n# username/password canal.instance.master.address=127.0.0.1:3306 canal.instance.dbUsername=root canal.instance.dbPassword=12345678 canal.instance.connectionCharset = UTF-8 # é»˜è®¤ç›‘å¬æºæ•°æ®åº“ canal.instance.defaultDatabaseName=canal_master_1 canal.instance.enableDruid=false # table regex canal.instance.filter.regex=canal_master_1.order,canal_master_1.order_item adapteré…ç½® # adapterç«¯çš„ä½œç”¨æ˜¯è§£ææ¥è‡ªdeployerç«¯çš„binlogæ•°æ®å¹¶é€‚é…è½¬å‚¨åˆ°å„ç§æ•°æ®åº“æœ¬æ¬¡æ¡ˆä¾‹ä¸­æ˜¯ä»mysqlé€‚é…åˆ°mysql.\nadapterçš„ä¸»é…ç½®åœ¨conf/application.yml\nouterAdaptersä»£è¡¨ç€å¤–éƒ¨é€‚é…å™¨é…ç½®ï¼Œä¹Ÿå°±æ˜¯confé…ç½®ä¸‹å•ç‹¬æ‹å‡ºæ¥æ–‡ä»¶å¤¹å­˜æ”¾é…ç½®çš„æ„æ€\nname ä»£è¡¨æ–‡ä»¶å¤¹åç§°ï¼Œè¿™é‡Œmysqlä½¿ç”¨çš„æ˜¯rdb key æ˜¯ä»£è¡¨å…·ä½“é…ç½®åç§°ï¼Œè¯¥é…ç½®ä¸»è¦æ˜¯é…ç½®æ˜ å°„è§„åˆ™ properties å…¶ä¸‹é…ç½®çš„æ˜¯éœ€è¦åŒæ­¥åˆ°çš„æ•°æ®åº“ï¼ŒåŠç›®æ ‡åº“è¿™é‡Œç›®æ ‡åº“åªæœ‰ä¸€ä¸ªcanal_syncæ‰€ä»¥ä¿æŒä¸€è‡´å³å¯ server: port: 8081 spring: jackson: date-format: yyyy-MM-dd HH:mm:ss time-zone: GMT+8 default-property-inclusion: non_null canal.conf: mode: tcp #tcp kafka rocketMQ rabbitMQ flatMessage: true zookeeperHosts: syncBatchSize: 1000 retries: -1 timeout: accessKey: secretKey: consumerProperties: # canal tcp consumer canal.tcp.server.host: 127.0.0.1:11111 canal.tcp.batch.size: 500 srcDataSources: defaultDS: url: jdbc:mysql://127.0.0.1:3306/canal_master_1 username: root password: 12345678 canalAdapters: - instance: master1 # canal instance Name or mq topic name groups: - groupId: g1 outerAdapters: - name: rdb key: master1Mapping properties: jdbc.driverClassName: com.mysql.jdbc.Driver jdbc.url: jdbc:mysql://127.0.0.1:3306/canal_sync jdbc.username: root jdbc.password: 12345678 druid.stat.enable: false druid.stat.slowSqlMillis: 1000 - instance: master2 # canal instance Name or mq topic name groups: - groupId: g1 outerAdapters: - name: rdb key: master2Mapping properties: jdbc.driverClassName: com.mysql.jdbc.Driver jdbc.url: jdbc:mysql://127.0.0.1:3306/canal_sync jdbc.username: root jdbc.password: 12345678 druid.stat.enable: false druid.stat.slowSqlMillis: 1000 outerAdapters # é…ç½®master1Mapping.ymlæ—¶å¯ä»¥ç”¨dataSourceKey å…³è”æ•°æ®æºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨destinationæ¥å…³è”æ•°æ®æº\n#dataSourceKey: defaultDS destination: master1 groupId: g1 outerAdapterKey: master1Mapping concurrent: true dbMapping: database: canal_master_1 table: order targetTable: order targetPk: id: id tenant_id: tenant_id mapAll: true commitBatch: 3000 # æ‰¹é‡æäº¤çš„å¤§å° è‡³æ­¤é…ç½®å·²ç»å®Œæˆï¼Œæ¥ä¸‹æ¥æˆ‘å°†é’ˆå¯¹ç»™å‡ºçš„é…ç½®ç»™åˆ°å…·ä½“çš„æµ‹è¯•æ•°æ®\næµ‹è¯•æŠ¥å‘Š # åŒåº“æ’å…¥,åŒæ­¥åº“åŒæ­¥æƒ…å†µ # æµ‹è¯•æ¡ˆä¾‹: master1 å’Œ master2 å„è‡ªå†™å…¥ä¸€æ¡æ•°æ®è§‚å¯Ÿ canal_syncåº“æ•°æ®æƒ…å†µ æµ‹è¯•ç»“æœ: æˆ‘ä»¬å¯ä»¥é€šè¿‡æ—¥å¿—è§‚æµ‹åˆ°æ•°æ®å·²ç»è¢«adapterè§£æå¹¶æ‰§è¡ŒåŒæ­¥ æ’å…¥ç»“æœ éªŒè¯destination å’Œ dataSourceKey # æµ‹è¯•æ¡ˆä¾‹: æ³¨é‡Šæ‰master1Mapping å’Œ master2Mapping ä¸­çš„destinationï¼Œå¯åŠ¨ååšæ•°æ®åŒæ­¥\næµ‹è¯•ç»“æœ: æ•°æ®åŒæ­¥å‡å¤±è´¥\nåŸå› åˆ†æ: é»˜è®¤æƒ…å†µä¸‹adapterä¼šä»deployerä¸­æ‹‰å–binlogï¼Œå¹¶è½¬æ¢æˆç›®æ ‡æ ¼å¼ã€‚ä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½éœ€è¦è¿›è¡Œå›æŸ¥ç­‰æ“ä½œï¼Œå°±éœ€è¦ç”¨åˆ° dataSourceKeyä¸­çš„é…ç½®ä¿¡æ¯\nè‡³æ­¤æ­¤æ¬¡æµ‹è¯•æ¡ˆä¾‹ç»“æŸ\nå‚è€ƒé“¾æ¥: srcDataSourcesçš„ä½œç”¨æ˜¯ä»€ä¹ˆ\n","date":"14 September 2024","externalUrl":null,"permalink":"/devops/canal/2.canal%E5%A4%9A%E5%AF%B9%E4%B8%80%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E6%B5%8B%E8%AF%95%E6%A1%88%E4%BE%8B/","section":"Devops","summary":"","title":"Canalå¤šå¯¹ä¸€æ•°æ®åŒæ­¥æµ‹è¯•æ¡ˆä¾‹","type":"devops"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/devops/","section":"Devops","summary":"","title":"Devops","type":"devops"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/tags/%E6%B5%8B%E8%AF%95%E6%A1%88%E4%BE%8B/","section":"Tags","summary":"","title":"æµ‹è¯•æ¡ˆä¾‹","type":"tags"},{"content":"","date":"14 September 2024","externalUrl":null,"permalink":"/tags/%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5/","section":"Tags","summary":"","title":"æ•°æ®åŒæ­¥","type":"tags"},{"content":" ä¸šåŠ¡èƒŒæ™¯ # æˆ‘ä»¬æœ‰è¿™æ ·çš„ä¸€ä¸ªåœºæ™¯ï¼Œä¸€ä¸ªä¸»ç³»ç»Ÿå’ŒNä¸ªå­ç³»ç»Ÿï¼Œå­ç³»ç»Ÿä¹‹é—´æ•°æ®éš”ç¦»,ä¸»ç³»ç»Ÿæœ‰å…¨éƒ¨æ•°æ®ã€‚\näºæ˜¯é’ˆå¯¹æ•°æ®åŒæ­¥å°±æœ‰äº†ä¸¤ä¸ªéœ€æ±‚ç‚¹\néœ€è¦å¯ä»¥åœ¨å°†Nä¸ªå­ç³»ç»Ÿçš„æ•°æ®å®æ—¶åŒæ­¥åˆ°ä¸»ç³»ç»Ÿ éœ€è¦è€ƒè™‘ä¸»å­ç³»ç»Ÿä¹‹é—´å‡ºç°ç½‘è·¯éš”ç¦»å­ç³»ç»Ÿä»ç„¶æ­£å¸¸å·¥ä½œå¯æ“ä½œ,å†ç½‘ç»œæ¢å¤åä¸»å­ç³»ç»Ÿä¹‹é—´è¿›è¡Œæ•°æ®çš„å¢é‡åŒæ­¥ã€‚ åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹æˆ‘ä»¬å‡†å¤‡å¯¹é˜¿é‡Œçš„cannelå’ŒdataXä¸¤ä¸ªå·¥å…·è¿›è¡Œè°ƒç ”\nå‰ç½®æ¡ä»¶ # ç›®å‰canal æ”¯æŒæºç«¯ MySQL ç‰ˆæœ¬åŒ…æ‹¬ 5.1.x , 5.5.x , 5.6.x , 5.7.x , 8.0.x mysqléœ€è¦å¼€å¯binglog # binlogæŸ¥è¯¢å‘½ä»¤ show variables like \u0026#39;log_bin\u0026#39;; # mysqlå¼€å¯binlog [mysqld] # æ‰“å¼€binlog log-bin=mysql-bin # é€‰æ‹©ROW(è¡Œ)æ¨¡å¼ binlog-format=ROW # é…ç½®MySQL replactionéœ€è¦å®šä¹‰ï¼Œä¸è¦å’Œcanalçš„slaveIdé‡å¤ server_id=1 # è¦ç›‘æ§çš„æ•°æ®åº“åç§° binlog-do-db=my-test canalåŸç† # canalçš„å·¥ä½œåŸç†å¯ä»¥æ˜¯åŸºäºä¸»ä»åŒæ­¥,ä½†æ˜¯ä¸ä¸»ä»åŒæ­¥ä¸å®Œå…¨ç›¸åŒã€‚\ncanalæ˜¯é€šè¿‡ä¼ªè£…æˆä»åº“é€šè¿‡dumpåè®®ä»mysqlæ‹‰å–binlogæ—¥å¿—ï¼Œè§£æbinlogæ—¥å¿—å¹¶å°†è§£æåçš„æ•°æ®åº”ç”¨åˆ°ç›®æ ‡æ•°æ®åº“\nä¸»ä»åŒæ­¥é€šè¿‡dumpåè®®æ‹‰å–binlogæ—¥å¿—åï¼Œé€šè¿‡binlogå›æ”¾æ¥è¾¾åˆ°æ•°æ®åŒæ­¥çš„ç›®çš„\nps:\nä¸»ä»åŒæ­¥åœ¨æ–­ç½‘é‡è¿çš„åœºæ™¯ä¸‹,å¦‚æœæ–­ç½‘æ—¶é—´è¿‡é•¿ï¼Œåœ¨æ•°æ®ä¸€è‡´æ€§è¿™å—å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼ˆbinlogä½ç½®ä¸ä¸€è‡´,relay log æŸåï¼Œæ•°æ®å†²çªç­‰åŸå› ï¼‰ï¼Œ éœ€è¦ä¾èµ–ä¸‰æ–¹çš„å·¥å…·æ£€æŸ¥å’Œæ‰‹åŠ¨è§£å†³ã€‚\ncanalé’ˆå¯¹äºæ–­ç½‘æ¢å¤åçš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œç»™å‡ºäº†æŒä¹…åŒ–binlogåŒæ­¥ä½ç½®ä¿¡æ¯çš„æ–¹æ¡ˆï¼ˆæ–‡ä»¶æˆ–è€…æ•°æ®åº“éƒ½å¯ï¼‰ï¼Œä»¥ä¿è¯æ–­ç½‘åä¸å­˜åœ¨æ•°æ®ä¸€è‡´æ€§é—®é¢˜ ä¸šåŠ¡åœºæ™¯åŒ¹é…åº¦ # canalæ”¯æŒå¤šå­åº“å¾€ä¸€ä¸ªä¸»åº“åŒæ­¥çš„æƒ…å†µ ç›¸å¯¹äºä¸»ä»åŒæ­¥ä¸‹çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œcanalæœ¬èº«å°±ç»™äº†è§£å†³æ–¹æ¡ˆï¼Œæ— éœ€å†å€Ÿç”¨ç¬¬ä¸‰æ–¹å·¥å…·æ¥å¤„ç† ","date":"13 September 2024","externalUrl":null,"permalink":"/devops/canal/1.canal%E7%9A%84%E8%B0%83%E7%A0%94/","section":"Devops","summary":"","title":"canalè°ƒç ”","type":"devops"},{"content":"","date":"11 September 2024","externalUrl":null,"permalink":"/structure/","section":"Structures","summary":"","title":"Structures","type":"structure"},{"content":"","date":"11 September 2024","externalUrl":null,"permalink":"/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E9%98%9F%E5%88%97/","section":"Tags","summary":"","title":"æ•°æ®ç»“æ„-é˜Ÿåˆ—","type":"tags"},{"content":"","date":"11 September 2024","externalUrl":null,"permalink":"/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%88/","section":"Tags","summary":"","title":"æ•°æ®ç»“æ„-æ ˆ","type":"tags"},{"content":" é˜Ÿåˆ— # å®šä¹‰ # é˜Ÿåˆ—æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨,ä»–çš„ç‰¹æ®Šæ€§åœ¨äºå°†çº¿æ€§è¡¨çš„æ“ä½œé™å®šä¸ºè¡¨å°¾æ’å…¥ï¼Œè¡¨å¤´åˆ é™¤\né€šè¿‡è¿™ä¸ªç‰¹æ®Šçš„é™å®šæˆ‘ä»¬å¯ä»¥è¾¾åˆ°FIFO(first in first out)çš„ç›®çš„\næŠ½è±¡æ•°æ®ç±»å‹ # Queue.java\né˜Ÿåˆ—çš„æ•°ç»„å®ç°ï¼ˆå¾ªç¯é˜Ÿåˆ—ï¼‰ # CircleQueue.java\né˜Ÿåˆ—æ•°æ®å­˜å‚¨çš„é—®é¢˜ # è™½ç„¶æˆ‘ä»¬é‡‡ç”¨æ•°ç»„æ¥ä½œä¸ºæ•°æ®å­˜å‚¨çš„åŸºæœ¬ç»“æ„ï¼Œä½†æ˜¯ç”±äºé˜Ÿåˆ—çš„ä½¿ç”¨è¿‡ç¨‹ä¸­å¤´å°¾æŒ‡é’ˆæ˜¯åŠ¨æ€çš„ã€‚\næ‰€ä»¥æˆ‘ä»¬å¾ˆå®¹ä¸€é€ æˆå¤´æŒ‡é’ˆåˆ°index = 0 ä¹‹é—´çš„ç©ºé—´æµªè´¹ å› æ­¤æˆ‘ä»¬é‡‡ç”¨ å°¾æŒ‡é’ˆ = (å°¾æŒ‡é’ˆ + 1) % data.lengthçš„æ–¹å¼æ¥ç§»åŠ¨å°¾æŒ‡é’ˆï¼Œè®©å°¾æŒ‡é’ˆå¯ä»¥å¾ªç¯èµ·æ¥\nè¿™æ ·å°±è§£å†³äº†å­˜å‚¨ç©ºé—´æµªè´¹çš„é—®é¢˜\nå°¾æŒ‡é’ˆç§»åŠ¨çš„å‡ ä¸ªé—®é¢˜ï¼Œ # CircleQueue.java#rearMove\næŒ‰ç…§æ­£å¸¸æƒ…å†µä¸‹ï¼Œé˜Ÿåˆ—ä¸´ç•Œçš„é—®é¢˜åˆ¤æ–­åº”è¯¥å¦‚ä¸‹\n# é˜Ÿåˆ—æ»¡ this.font == this.rear # é˜Ÿåˆ—ç©º this.font == this.rear æˆ‘ä»¬æ— æ³•åŒºåˆ†é˜Ÿåˆ—æ»¡ å’Œ é˜Ÿåˆ—ç©ºï¼Œéœ€è¦å¼•å…¥ä¸€ä¸ªæ–°çš„å˜é‡flagæ¥åˆ¤æ–­ã€‚\næˆ‘ä»¬è¿™é‡Œå¯ä»¥ä½¿ç”¨ç©ºå‡ºæœ€åä¸€ä¸ªå­˜å‚¨ç©ºé—´çš„æ–¹å¼æ¥è¾¾åˆ°è¯¥ç›®çš„ï¼Œè€Œä¸ç”¨å¼•å…¥æ–°çš„çŠ¶æ€\nthis.rear = ++this.rear % data.length; if (this.rear == this.front){ throw new RuntimeException(\u0026#34;rear is out of size\u0026#34;); } é˜Ÿåˆ—çš„é“¾è¡¨å®ç°å®ç° # LinkedQueue.java\n","date":"11 September 2024","externalUrl":null,"permalink":"/structure/queue/","section":"Structures","summary":"","title":"ä¸€æ–‡è¯»æ‡‚é˜Ÿåˆ—","type":"structure"},{"content":" æ ˆ # å®šä¹‰ # æ ˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨,åªå¯ä»¥åœ¨çº¿æ€§è¡¨çš„åº•éƒ¨è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œ.\nçº¿æ€§è¡¨çš„å¤´éƒ¨è¢«ç§°ä¸ºæ ˆåº•,åº•éƒ¨è¢«æˆä¸ºæ ˆé¡¶,ä¹Ÿå°±æ˜¯è¯´æ ˆåªå¯ä»¥åœ¨æ ˆé¡¶è¿›è¡Œæ’å…¥æˆ–è€…åˆ é™¤æ“ä½œ\næ’å…¥æ“ä½œè¢«ç§°ä¸ºå‹æ ˆ(push) åˆ é™¤æ“ä½œè¢«å«åšå¼¹æ ˆ(pop). æŠ½è±¡æ•°æ®ç±»å‹ # æ•°æ® # AbstractStack\nè¡Œä¸º # IStack\nIShardedStack.java\næ ˆçš„ç§ç±» # æ•°ç»„æ ˆå’Œé“¾è¡¨æ ˆ # å› ä¸ºæ ˆæ˜¯ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œæ‰€ä»¥å¾ˆè‡ªç„¶çš„å°±æƒ³åˆ°å­˜åœ¨æ•°ç»„å’Œé“¾è¡¨ä¸¤ç§å®ç°æ–¹å¼ã€‚ ä¸ªäººè§‰å¾—æ•°ç»„è¿™ç§æ–¹å¼ç‰¹åˆ«åˆé€‚ï¼Œå› ä¸ºæˆ‘ä»¬é™å®šäº†æ‰€æœ‰æ“ä½œéƒ½è¦åœ¨æ ˆé¡¶ï¼Œè€Œé“¾è¡¨æ–¹å¼ä¼šå¤šä¸€äº›é¢å¤–å¼€é”€ã€‚\nå…±äº«æ ˆ # å…±äº«æ ˆå°±æ˜¯ä¸¤ä¸ªæ ˆåˆ†äº«ä¸€ä¸ªæ•°ç»„/èŠ‚ç‚¹é“¾è¡¨ï¼Œæ ˆé¡¶ç”±å•ä¸ªæ ˆçš„æ—¶å€™çš„æ•°ç»„æœ€å¤§å€¼ï¼Œå˜æˆäº†ä¸¤ä¸ªæ ˆé¡¶\u0026quot;å‘ç”Ÿç¢°æ’\u0026quot; æ ˆçš„åº”ç”¨ # é€’å½’ # é€’å½’çš„å…¸å‹è¿ç”¨åœºæ™¯å°±æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—\næ–æ³¢é‚£å¥‘æ•°åˆ—: å‰ä¸¤é¡¹æ•°çš„å’Œ f(0) = 0; f(1) = 1; f(n) = f(n-1) + f(n-2);\næ™®é€šçš„æ‰§è¡Œæ–¹æ³•å¦‚æœæˆ‘ä»¬è¦ç®—f(20),é‚£ä¹ˆè¦ä» f(0) f(1) f(2)ä¸€æ­¥æ­¥è®¡ç®—åˆ°f(20);\nä½¿ç”¨é€’å½’çš„åŒ–æˆ‘ä»¬æ˜¯ä»f(20)å¼€å§‹åˆ†è§£å…¬å¼,f(20) = f(19) + f(18);å†å»è°ƒç”¨f(18) å’Œ f(19) ä¾æ¬¡å¾€ä¸‹è‡ªå·±è°ƒç”¨è‡ªå·±ã€‚\nåœ¨è¿™ä¸ªä¾æ¬¡å‘ä¸‹çš„è°ƒç”¨è¿‡ç¨‹æˆ‘ä»¬å°±éœ€è¦ \u0026ldquo;å…ˆå°†ä¸Šå±‚çš„å…¬å¼å­˜èµ·æ¥\u0026rdquo; å…ˆå­˜èµ·æ¥çš„å…¬å¼åç®—,è¿™å’Œæ ˆç»“æ„ä¸è°‹è€Œåˆï¼Œè€Œåœ¨javaä¸­æ‰§è¡Œæ–¹æ³•çš„å‹æ ˆå’Œå‡ºæ ˆä¹Ÿç¡®å®æ˜¯è¿™æ ·çš„ã€‚\nå››åˆ™è¿ç®—æ³•åˆ™ # æˆ‘ä»¬å¸¸è§çš„è¡¨è¾¾å¼ 9+ï¼ˆ3ï¼1ï¼‰Ã—3+10Ã·2 å«åšä¸­ç¼€è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„ä¾æ®ä¼˜å…ˆçº§ â€œ æ‹¬å· å¤§äº ä¹˜é™¤ å¤§äº åŠ å‡â€ æ¥ç®—å‡ºç»“æœ\nä½†æ˜¯è®¡ç®—æœºåœ¨å¤„ç†ä¸­ç¼€è¡¨è¾¾å¼çš„æ—¶å€™å°±å¾ˆéš¾åŠ,äºæ˜¯ æ³¢å…°çš„ä¸€ä½é€»è¾‘å­¦å®¶ æƒ³å‡ºæ¥äº†ä¸€ä¸ªåç¼€(é€†æ³¢å…°)è¡¨è¾¾å¼, è€Œä¸Šè¿°ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢åæœª 9 3 1 - 3 * + 10 2 / +\nä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼ # ä¸­ç¼€è¡¨è¾¾å¼æå–åç¼€è¡¨è¾¾çš„åŸºæœ¬æ­¥éª¤:\nä¾æ¬¡è¯»å–è¡¨è¾¾å¼ä¸­çš„æ¯ä¸€é¡¹ ç¬¦å·å’Œæ•°å­— ï¼Œè¯»å–åˆ°æ•°å­—åˆ™æ”¾åˆ°åç¼€è¡¨è¾¾å¼ä¸­ï¼Œè¯»å–åˆ°ç¬¦å·åˆ™æ”¾å…¥è®¡ç®—ç¬¦å·æ ˆä¸­ å¦‚æœæ ˆé¡¶ æ— ç¬¦å· æˆ–è€… ä¼˜å…ˆçº§å°äº å½“å‰è¦æ”¾å…¥çš„ç¬¦å·,åˆ™ç›´æ¥æ”¾å…¥ å¦‚æœæ”¾å…¥çš„ç¬¦å· ä¼˜å…ˆçº§å¤§äºå½“å‰ç¬¦å·åˆ™å–å‡ºæ ˆä¸­çš„æ‰€æœ‰ç¬¦å·åŠ å…¥è¡¨è¾¾å¼ å†æ”¾å…¥ç¬¦å· å¦‚æœæ”¾å…¥çš„ç¬¦å·æ˜¯) åˆ™å–å‡ºç¬¦å·ç›´åˆ°(ä¸ºæ­¢ åŠ å…¥è¡¨è¾¾å¼ ç„¶åå†æ”¾å…¥ç¬¦å· åç¼€è¡¨è¾¾å¼çš„è®¡ç®—é€»è¾‘ # ä¾æ¬¡å°†æ¯ä¸ªè¡¨è¾¾å¼çš„å…ƒç´ æ”¾å…¥åˆ°è®¡ç®—æ ˆä¸­ å¦‚æœè·å–åˆ°è®¡ç®—ç¬¦å·åˆ™ä»æ ˆä¸­å–å‡ºä¸¤ä¸ªæ•°è¿›è¡Œè®¡ç®—ï¼Œä¹‹åå†æ”¾å…¥åˆ°æ ˆä¸­ æœ€åè®¡ç®—ç»“æŸå–å‡ºæ ˆä¸­æ•°æ®å³å¯ ","date":"11 September 2024","externalUrl":null,"permalink":"/structure/stack/","section":"Structures","summary":"","title":"ä¸€æ–‡è¯»æ‡‚æ ˆ","type":"structure"},{"content":"","date":"11 September 2024","externalUrl":null,"permalink":"/series/%E9%87%8D%E5%AD%A6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/","section":"Series","summary":"","title":"é‡å­¦æ•°æ®ç»“æ„","type":"series"},{"content":"","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","externalUrl":null,"permalink":"/menu/","section":"Menus","summary":"","title":"Menus","type":"menu"},{"content":"","externalUrl":null,"permalink":"/series/nginx/","section":"Series","summary":"","title":"Nginx","type":"series"},{"content":"","externalUrl":null,"permalink":"/tags/nginx/","section":"Tags","summary":"","title":"Nginx","type":"tags"},{"content":"Nginxæˆ–TengineæœåŠ¡å™¨é…ç½®SSLè¯ä¹¦_æ•°å­—è¯ä¹¦ç®¡ç†æœåŠ¡ï¼ˆåŸSSLè¯ä¹¦ï¼‰(SSL Certificate)-é˜¿é‡Œäº‘å¸®åŠ©ä¸­å¿ƒ\nserver { listen 443 ssl; # éœ€è¦æ³¨æ„ä¸‹æœ€å¥½æŒ‡å®šæŸä¸ªåŸŸåæˆ–è€…é€šé… server_name *.{domain}; ssl_certificate /etc/nginx/ssl/default.crt; ssl_certificate_key /etc/nginx/ssl/default.key; } ","externalUrl":null,"permalink":"/devops/nginx/nginx%E9%85%8D%E7%BD%AEhttps%E8%AF%81%E4%B9%A6/","section":"Devops","summary":"","title":"nginxé…ç½®httpsè¯ä¹¦","type":"devops"},{"content":" nginxé…ç½®ä»£ç†è½¬å‘æµé‡ # ä¸šåŠ¡èƒŒæ™¯ # è·Ÿé«˜å¾·å¹³å°ç”¨808åè®®è°ƒäº†ä¸€ä¸ªè½¦è½½æ‘„åƒå¤´ç›´æ’­ï¼Œä½†æ˜¯é«˜å¾·å¹³å°æä¾›çš„æ—¶httpåè®®é€šè®¯ï¼Œæˆ‘ä»¬éœ€æ±‚httpså› æ­¤ç”¨nginxåšä¸€ä¸ªè½¬å‘\né”™è¯¯é…ç½® # server { listen 443 ssl default_server; server_name test.jinyingweishi.cn; ssl_certificate /usr/local/ssl/cert.pem; ssl_certificate_key /usr/local/ssl/cert.key; ssl_session_timeout 5m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; ssl_prefer_server_ciphers on; location / { add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Methods \u0026#39;GET, POST, OPTIONS\u0026#39;; add_header Access-Control-Allow-Headers \u0026#39;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization\u0026#39;; gzip_static on; root /opt/platform/web/supervise; index index.html index.htm; } location /gaodeX { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header REMOTE-HOST $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass http://ip:8080; proxy_connect_timeout 15s; proxy_send_timeout 600s; proxy_read_timeout 600s; } } æ”¹æ­£é…ç½® # server { listen 443 ssl default_server; server_name test.jinyingweishi.cn; ssl_certificate /usr/local/ssl/cert.pem; ssl_certificate_key /usr/local/ssl/cert.key; ssl_session_timeout 5m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; ssl_prefer_server_ciphers on; location / { add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Methods \u0026#39;GET, POST, OPTIONS\u0026#39;; add_header Access-Control-Allow-Headers \u0026#39;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization\u0026#39;; gzip_static on; root /opt/platform/web/supervise; index index.html index.htm; } location /gaodeX/ { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header REMOTE-HOST $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass http://ip:8080/; proxy_connect_timeout 15s; proxy_send_timeout 600s; proxy_read_timeout 600s; } } æ”¹åŠ¨è¯´æ˜ # é’ˆå¯¹äºlocationåŒ¹é…å¸¦ä¸å¸¦/çš„åŒºåˆ« # location /XXX åŒ¹é…ä»¥ /XX å¼€å¤´çš„è¯·æ±‚,å¦‚æœæ˜¯http://host/xxxå¯ä»¥åŒ¹é…ï¼›ä½†æ˜¯å¦‚æœæ˜¯http://host/xxx/aaaä¸å¯ä»¥åŒ¹é…\nlocation /XXX/ åŒ¹é…ä»¥ /XX/ å¼€å¤´çš„è¯·æ±‚,åˆ™æ²¡é—®é¢˜ï¼Œå¦‚æœæ˜¯http://host/xxx ä¼šå…ˆé‡å®šå‘åˆ°http://host/xxx/å†è½¬å‘\né’ˆå¯¹äºproxy_passåŒ¹é…å¸¦ä¸å¸¦/çš„åŒºåˆ« # proxy_pass http://target/XXX/ è¯·æ±‚http://host/XXX/abc åˆ™ä¼šè½¬å‘åˆ°http://target/abc\nproxy_pass http://target/XXX è¯·æ±‚http://host/XXX/abc åˆ™ä¼šè½¬å‘åˆ°http://target/XXX/abc ","externalUrl":null,"permalink":"/devops/nginx/nginx%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86%E8%BD%AC%E5%8F%91%E6%B5%81%E9%87%8F/","section":"Devops","summary":"","title":"nginxé…ç½®httpsè¯ä¹¦","type":"devops"},{"content":" togally/BlueWhale HTML 1 0 ","externalUrl":null,"permalink":"/menu/project/","section":"Menus","summary":"","title":"é¡¹ç›®","type":"menu"}]